import{a as G,b as J,c as K}from"./chunk-4NQ3KVTQ.js";import{a as V,b as B}from"./chunk-7YZ6OPHA.js";import{d as O,g as z}from"./chunk-TCRXPJTJ.js";import"./chunk-OSOFAC5U.js";import{e as N,f as $,h as R,l as q,m as D,p as H}from"./chunk-4HAJTT64.js";import"./chunk-KDJ5XWPP.js";import{a as j}from"./chunk-CWPSM2U6.js";import{l as M,m as P,p as T,r as U}from"./chunk-KIMDESJO.js";import{Ga as h,Gb as o,Ib as c,Ja as l,Oa as _,Qb as k,Rb as I,Sb as b,Ta as A,Ub as L,Vb as S,W as f,X as v,Y as E,Ya as m,Z as C,db as g,eb as s,hb as F,mb as a,nb as r,ob as x,sb as w,vb as y,wb as d}from"./chunk-JSYOWGZH.js";import"./chunk-6MDQTQU3.js";var Q=n=>["/actualites",n],X=(n,u,e)=>({id:"actuality_id",itemsPerPage:n,currentPage:u,totalItems:e});function Y(n,u){if(n&1){let e=w();a(0,"button",37),y("click",function(){let i=f(e).$implicit,p=d();return v(p.filtrerParCategorie(i.id))}),o(1),r()}if(n&2){let e=u.$implicit,t=d();F(t.categorieActive===e.id?"btn-primary":"btn-secondary"),g("aria-pressed",t.categorieActive===e.id)("aria-label","Filtrer par "+e.name),l(),c(" ",e.name," ")}}function Z(n,u){if(n&1&&(a(0,"option",38),o(1),r()),n&2){let e=u.$implicit;s("value",e.id),l(),c(" ",e.name," ")}}function ee(n,u){if(n&1&&(a(0,"span",52),o(1),r()),n&2){let e=u.$implicit;s("title","Tag: "+e),l(),c(" #",e," ")}}function te(n,u){if(n&1&&(a(0,"article",39)(1,"div",40),x(2,"img",41),a(3,"div",11)(4,"span",42),o(5),r()()(),a(6,"div",43)(7,"div",14),o(8),b(9,"date"),r(),a(10,"h3",44),o(11),r(),a(12,"p",45),o(13),r(),a(14,"div",46)(15,"a",47),o(16," Lire la suite "),E(),a(17,"svg",48),x(18,"path",49),r()(),C(),a(19,"div",50),m(20,ee,2,2,"span",51),r()()()()),n&2){let e,t=u.$implicit,i=d();l(2),s("src",i.getLink("actualites",t.photo),h)("alt",t.title),l(2),g("aria-label","Cat\xE9gorie: "+t.categorie),l(),c(" ",(e=t.categorie)!==null&&e!==void 0?e:"Actualit\xE9"," "),l(3),c(" ",S(9,10,t.created_at,"d MMMM yyyy","fr")," "),l(3),c(" ",t.title," "),l(2),c(" ",t.sub_description," "),l(2),s("routerLink",k(14,Q,t.slug)),g("aria-label","Lire article: "+t.title),l(5),s("ngForOf",t==null||t.tags==null?null:t.tags.slice(0,2))}}function ie(n,u){if(n&1){let e=w();a(0,"ul",53)(1,"pagination-controls",54),y("pageChange",function(i){f(e);let p=d();return v(p.pageChanged(i))})("pageBoundsCorrection",function(i){f(e);let p=d();return v(p.pageChanged(i))}),r()()}if(n&2){let e=d();l(),s("maxSize",e.pg.total)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")}}var xe=(()=>{class n{constructor(e,t){this.animationService=e,this.publicService=t,this.categorieActive=0,this.structureActive=0,this.categories=[],this.structures=[],this.actualites=[],this.actualitesFiltrees=[],this.pg={pageSize:9,page:1,total:0}}ngOnInit(){this.getAll()}getAll(){this.publicService.getActualites(this.pg.pageSize,this.pg.page).subscribe(e=>{this.categories=[{id:0,name:"Toutes"},...e.data?.categories],this.structures=[{id:0,name:"Toutes les structures"},...e.data?.structures],this.actualiteUne=e.data.actualiteUne,this.actualites=e.data.actualites.data,this.actualitesFiltrees=this.actualites,this.pg.total=e.data.actualites.total})}ngAfterViewInit(){setTimeout(()=>{this.animationService.initScrollAnimations()},100)}filtrerParCategorie(e){this.categorieActive=e,this.appliquerFiltres()}filtrerParStructure(e){this.structureActive=parseInt(e.target.value),this.appliquerFiltres()}appliquerFiltres(){let e=[...this.actualites];this.categorieActive!==0&&(e=e.filter(t=>t.category_id===this.categorieActive)),this.structureActive!==0&&this.structureActive!==1&&(e=e.filter(t=>t.media?.structure_id===this.structureActive)),this.actualitesFiltrees=e}trackByActualiteId(e,t){return t.id}getLink(e,t){return`${V.toFile("storage")}/${e}/${t}`}pageChanged(e){this.pg.page=e,this.getAll()}static{this.\u0275fac=function(t){return new(t||n)(_(j),_(B))}}static{this.\u0275cmp=A({type:n,selectors:[["app-actualites"]],decls:55,vars:25,consts:[[1,"bg-gradient-to-r","from-primary-800","to-primary-900","dark:from-primary-900","dark:to-primary-950","text-white","pt-32","pb-16"],[1,"container-custom"],[1,"text-center"],[1,"text-4xl","lg:text-5xl","font-bold","mb-6"],[1,"text-xl","text-primary-100","dark:text-primary-200","max-w-3xl","mx-auto"],[1,"section-padding","bg-white","dark:bg-gray-900"],[1,""],[1,"card","overflow-hidden"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-0"],[1,"relative","h-64","lg:h-auto","lg:max-h-86"],["loading","lazy",1,"w-full","object-cover",3,"src","alt"],[1,"absolute","top-4","left-4"],["aria-label","Article \xE0 la une",1,"bg-primary-800","dark:bg-primary-700","text-white","px-4","py-2","rounded-full","text-sm","font-medium"],[1,"p-8","lg:p-12","flex","flex-col","justify-center"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-2"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-4"],[1,"text-lg","text-gray-600","dark:text-gray-300","mb-6","text-content","line-clamp-4"],[1,"btn-primary","w-fit",3,"routerLink"],["aria-label","Filtres par cat\xE9gorie",1,"py-8","bg-gray-50","dark:bg-gray-800","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","flex-col","md:flex-row","items-center","justify-center","gap-6"],["role","group","aria-label","Filtrer les actualit\xE9s par cat\xE9gorie",1,"flex","flex-wrap","justify-center","gap-4"],["class","px-6 py-2 rounded-full text-sm font-medium transition-all",3,"class","click",4,"ngFor","ngForOf"],[1,"relative","w-full","md:w-auto"],["aria-label","Filtrer par structure",1,"form-select","w-full","md:w-64","dark:bg-gray-700","dark:border-gray-600","dark:text-white",3,"change"],[3,"value",4,"ngFor","ngForOf"],["aria-label","Liste des actualit\xE9s",1,"section-padding","bg-gray-50","dark:bg-gray-800"],["role","list",1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-8"],["class","card overflow-hidden  hover:shadow-lg transition-all duration-300","role","listitem",4,"ngFor","ngForOf","ngForTrackBy"],["class","flex justify-center mt-12 list-none space-x-2",4,"ngIf"],[1,"card","p-8","lg:p-12","text-center"],[1,"text-2xl","lg:text-3xl","font-bold","text-gray-900","dark:text-white","mb-4"],[1,"text-lg","text-gray-600","dark:text-gray-300","mb-8","max-w-2xl","mx-auto","text-content"],["aria-label","Inscription \xE0 la newsletter",1,"max-w-md","mx-auto"],[1,"flex","gap-3"],["for","newsletter-email",1,"sr-only"],["type","email","id","newsletter-email","placeholder","Votre adresse email","required","",1,"flex-1","px-4","py-3","border","border-gray-300","dark:border-gray-600","dark:bg-gray-700","dark:text-white","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-transparent"],["type","submit","aria-label","S'inscrire \xE0 la newsletter",1,"btn-primary","px-6","py-3","whitespace-nowrap"],[1,"px-6","py-2","rounded-full","text-sm","font-medium","transition-all",3,"click"],[3,"value"],["role","listitem",1,"card","overflow-hidden","hover:shadow-lg","transition-all","duration-300"],[1,"relative","h-48","overflow-hidden"],["loading","lazy",1,"w-full","h-full","object-cover","hover:scale-105","transition-transform","duration-300",3,"src","alt"],[1,"bg-primary-800","dark:bg-primary-700","text-white","px-3","py-1","rounded-full","text-sm","font-medium"],[1,"p-6"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white","mb-3","line-clamp-2"],[1,"text-gray-600","dark:text-gray-300","mb-4","line-clamp-3","text-content"],[1,"flex","items-center","justify-between"],[1,"text-primary-800","dark:text-primary-400","hover:text-primary-900","dark:hover:text-primary-300","font-medium","inline-flex","items-center",3,"routerLink"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-4","h-4","ml-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],["aria-label","Tags de l'article",1,"flex","space-x-1"],["class","bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded text-xs",3,"title",4,"ngFor","ngForOf"],[1,"bg-gray-100","dark:bg-gray-700","text-gray-600","dark:text-gray-300","px-2","py-1","rounded","text-xs",3,"title"],[1,"flex","justify-center","mt-12","list-none","space-x-2"],["id","actuality_id","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","Page active",3,"pageChange","pageBoundsCorrection","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4,"Actualit\xE9s"),r(),a(5,"p",4),o(6," Restez inform\xE9 des derni\xE8res nouvelles et initiatives du Minist\xE8re du Travail. "),r()()()(),a(7,"section",5)(8,"div",1)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),x(13,"img",10),a(14,"div",11)(15,"span",12),o(16," \xC0 la une "),r()()(),a(17,"div",13)(18,"div",14),o(19),b(20,"date"),r(),a(21,"h2",15),o(22),r(),a(23,"p",16),o(24),r(),a(25,"a",17),o(26," Lire l'article complet "),r()()()()()()(),a(27,"section",18)(28,"div",1)(29,"div",19)(30,"div",20),m(31,Y,2,5,"button",21),r(),a(32,"div",22)(33,"select",23),y("change",function(W){return i.filtrerParStructure(W)}),m(34,Z,2,2,"option",24),r()()()()(),a(35,"section",25)(36,"div",1)(37,"div",26),m(38,te,21,16,"article",27),b(39,"paginate"),r(),m(40,ie,2,6,"ul",28),r()(),a(41,"section",5)(42,"div",1)(43,"div",29)(44,"h3",30),o(45," Restez inform\xE9 de nos actualit\xE9s "),r(),a(46,"p",31),o(47," Inscrivez-vous \xE0 notre newsletter pour recevoir nos derni\xE8res actualit\xE9s et informations importantes directement dans votre bo\xEEte mail. "),r(),a(48,"form",32)(49,"div",33)(50,"label",34),o(51,"Adresse email pour la newsletter"),r(),x(52,"input",35),a(53,"button",36),o(54," S'inscrire "),r()()()()()()),t&2&&(l(13),s("src",i.getLink("actualites",i.actualiteUne==null?null:i.actualiteUne.photo),h)("alt",i.actualiteUne==null?null:i.actualiteUne.title),l(6),c(" ",S(20,12,i.actualiteUne==null?null:i.actualiteUne.created_at,"d MMMM yyyy","fr")," "),l(3),c(" ",i.actualiteUne==null?null:i.actualiteUne.title," "),l(2),c(" ",i.actualiteUne==null?null:i.actualiteUne.sub_description," "),l(),s("routerLink",k(19,Q,i.actualiteUne==null?null:i.actualiteUne.slug)),g("aria-label","Lire article complet: "+(i.actualiteUne==null?null:i.actualiteUne.title)),l(6),s("ngForOf",i.categories),l(3),s("ngForOf",i.structures),l(4),s("ngForOf",L(39,16,i.actualitesFiltrees,I(21,X,i.pg.pageSize,i.pg.page,i.pg.total)))("ngForTrackBy",i.trackByActualiteId),l(2),s("ngIf",i.actualitesFiltrees.length>0))},dependencies:[U,M,P,T,z,O,H,R,q,D,N,$,K,G,J],styles:[".line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-3[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}"]})}}return n})();export{xe as ActualitesComponent};
