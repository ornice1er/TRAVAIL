import{a as q,b as D,c as G}from"./chunk-KREQVKDY.js";import{a as H}from"./chunk-QVOYUIDF.js";import{a as B}from"./chunk-CYZAS4RH.js";import{e as z,h as j}from"./chunk-F5GARB6M.js";import"./chunk-QLRX7CPE.js";import{o as $,p as R,s as N}from"./chunk-WPSRFITA.js";import"./chunk-IJY4QFLY.js";import{a as V}from"./chunk-SY6NGMN7.js";import{l as P,m as I,t as U,v as O}from"./chunk-4LU63DT7.js";import{Bc as T,Cc as S,Db as L,Jb as n,Kb as l,Lb as g,Pb as w,Ub as y,Va as b,Vb as p,Wa as _,Za as r,db as k,gc as c,ia as v,ic as u,ja as x,ka as A,la as F,mb as E,rb as m,rc as C,tc as M,yb as f,zb as o,zc as h}from"./chunk-NSEIPVZB.js";import"./chunk-GAL4ENT6.js";var J=a=>["/actualites",a],Q=(a,s,e)=>({id:"actuality_id",itemsPerPage:a,currentPage:s,totalItems:e});function W(a,s){if(a&1){let e=w();n(0,"button",29),y("click",function(){let i=v(e).$implicit,d=p();return x(d.filtrerParCategorie(i.id))}),c(1),l()}if(a&2){let e=s.$implicit,t=p();L(t.categorieActive===e.id?"btn-primary":"btn-secondary"),f("aria-pressed",t.categorieActive===e.id)("aria-label","Filtrer par "+e.name),r(),u(" ",e.name," ")}}function X(a,s){if(a&1&&(n(0,"option",30),c(1),l()),a&2){let e=s.$implicit;o("value",e.id),r(),u(" ",e.name," ")}}function Y(a,s){if(a&1&&(n(0,"span",44),c(1),l()),a&2){let e=s.$implicit;o("title","Tag: "+e),r(),u(" #",e," ")}}function Z(a,s){if(a&1&&(n(0,"article",31)(1,"div",32),g(2,"img",33),n(3,"div",11)(4,"span",34),c(5),l()()(),n(6,"div",35)(7,"div",14),c(8),h(9,"date"),l(),n(10,"h3",36),c(11),l(),g(12,"p",37),n(13,"div",38)(14,"a",39),c(15," Lire la suite "),A(),n(16,"svg",40),g(17,"path",41),l()(),F(),n(18,"div",42),m(19,Y,2,2,"span",43),l()()()()),a&2){let e,t=s.$implicit,i=p();r(2),o("src",i.getLink("actualites",t.photo),_)("alt",t.title),r(2),f("aria-label","Cat\xE9gorie: "+t.categorie),r(),u(" ",(e=t.categorie)!==null&&e!==void 0?e:"Actualit\xE9"," "),r(3),u(" ",S(9,10,t.created_at,"d MMMM yyyy","fr")," "),r(3),u(" ",t.title," "),r(),o("innerHTML",t==null?null:t.sub_description,b),r(2),o("routerLink",C(14,J,t.slug)),f("aria-label","Lire article: "+t.title),r(5),o("ngForOf",t==null||t.tags==null?null:t.tags.slice(0,2))}}function ee(a,s){if(a&1){let e=w();n(0,"ul",45)(1,"pagination-controls",46),y("pageChange",function(i){v(e);let d=p();return x(d.pageChanged(i))})("pageBoundsCorrection",function(i){v(e);let d=p();return x(d.pageChanged(i))}),l()()}if(a&2){let e=p();r(),o("maxSize",e.pg.total)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")}}var me=(()=>{class a{constructor(e,t){this.animationService=e,this.publicService=t,this.categorieActive=0,this.structureActive=0,this.categories=[],this.structures=[],this.actualites=[],this.actualitesFiltrees=[],this.pg={pageSize:9,page:1,total:0}}ngOnInit(){this.getAll()}getAll(){this.publicService.getActualites(this.pg.pageSize,this.pg.page).subscribe(e=>{this.categories=[{id:0,name:"Toutes"},...e.data?.categories],this.structures=[{id:0,name:"Toutes les structures"},...e.data?.structures],this.actualiteUne=e.data.actualiteUne,this.actualites=e.data.actualites.data,this.actualitesFiltrees=this.actualites,this.pg.total=e.data.actualites.total})}ngAfterViewInit(){setTimeout(()=>{this.animationService.initScrollAnimations()},100)}filtrerParCategorie(e){this.categorieActive=e,this.appliquerFiltres()}filtrerParStructure(e){this.structureActive=parseInt(e.target.value),this.appliquerFiltres()}appliquerFiltres(){let e=[...this.actualites];this.categorieActive!==0&&(e=e.filter(t=>t.category_id===this.categorieActive)),this.structureActive!==0&&this.structureActive!==1&&(e=e.filter(t=>t.media?.structure_id===this.structureActive)),this.actualitesFiltrees=e}trackByActualiteId(e,t){return t.id}getLink(e,t){return`${B.toFile("storage")}/${e}/${t}`}pageChanged(e){this.pg.page=e,this.getAll()}static{this.\u0275fac=function(t){return new(t||a)(k(V),k(H))}}static{this.\u0275cmp=E({type:a,selectors:[["app-actualites"]],decls:40,vars:25,consts:[[1,"bg-gradient-to-r","from-primary-800","to-primary-900","dark:from-primary-900","dark:to-primary-950","text-white","pt-32","pb-16"],[1,"container-custom"],[1,"text-center"],[1,"text-4xl","lg:text-5xl","font-bold","mb-6"],[1,"text-xl","text-primary-100","dark:text-primary-200","max-w-3xl","mx-auto"],[1,"section-padding","bg-white","dark:bg-gray-900"],[1,""],[1,"card","overflow-hidden"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-0"],[1,"relative","h-64","lg:h-auto","lg:max-h-86"],["loading","lazy",1,"w-full","object-cover",3,"src","alt"],[1,"absolute","top-4","left-4"],["aria-label","Article \xE0 la une",1,"bg-primary-800","dark:bg-primary-700","text-white","px-4","py-2","rounded-full","text-sm","font-medium"],[1,"p-8","lg:p-12","flex","flex-col","justify-center"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-2"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-4"],[1,"text-lg","text-gray-600","dark:text-gray-300","mb-6","text-content","line-clamp-4","rich-content",3,"innerHTML"],[1,"btn-primary","w-fit",3,"routerLink"],["aria-label","Filtres par cat\xE9gorie",1,"py-8","bg-gray-50","dark:bg-gray-800","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","flex-col","md:flex-row","items-center","justify-center","gap-6"],["role","group","aria-label","Filtrer les actualit\xE9s par cat\xE9gorie",1,"flex","flex-wrap","justify-center","gap-4"],["class","px-6 py-2 rounded-full text-sm font-medium transition-all",3,"class","click",4,"ngFor","ngForOf"],[1,"relative","w-full","md:w-auto"],["aria-label","Filtrer par structure",1,"form-select","w-full","md:w-64","dark:bg-gray-700","dark:border-gray-600","dark:text-white",3,"change"],[3,"value",4,"ngFor","ngForOf"],["aria-label","Liste des actualit\xE9s",1,"section-padding","bg-gray-50","dark:bg-gray-800"],["role","list",1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-8"],["class","card overflow-hidden  hover:shadow-lg transition-all duration-300","role","listitem",4,"ngFor","ngForOf","ngForTrackBy"],["class","flex justify-center mt-12 list-none space-x-2",4,"ngIf"],[1,"px-6","py-2","rounded-full","text-sm","font-medium","transition-all",3,"click"],[3,"value"],["role","listitem",1,"card","overflow-hidden","hover:shadow-lg","transition-all","duration-300"],[1,"relative","h-48","overflow-hidden"],["loading","lazy",1,"w-full","h-full","object-cover","hover:scale-105","transition-transform","duration-300",3,"src","alt"],[1,"bg-primary-800","dark:bg-primary-700","text-white","px-3","py-1","rounded-full","text-sm","font-medium"],[1,"p-6"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white","mb-3","line-clamp-2"],[1,"text-gray-600","dark:text-gray-300","mb-4","line-clamp-3","text-content","rich-content",3,"innerHTML"],[1,"flex","items-center","justify-between"],[1,"text-primary-800","dark:text-primary-400","hover:text-primary-900","dark:hover:text-primary-300","font-medium","inline-flex","items-center",3,"routerLink"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-4","h-4","ml-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],["aria-label","Tags de l'article",1,"flex","space-x-1"],["class","bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded text-xs",3,"title",4,"ngFor","ngForOf"],[1,"bg-gray-100","dark:bg-gray-700","text-gray-600","dark:text-gray-300","px-2","py-1","rounded","text-xs",3,"title"],[1,"flex","justify-center","mt-12","list-none","space-x-2"],["id","actuality_id","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","Page active",3,"pageChange","pageBoundsCorrection","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),c(4,"Actualit\xE9s"),l(),n(5,"p",4),c(6," Restez inform\xE9 des derni\xE8res nouvelles et initiatives du Minist\xE8re du Travail. "),l()()()(),n(7,"section",5)(8,"div",1)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),g(13,"img",10),n(14,"div",11)(15,"span",12),c(16," \xC0 la une "),l()()(),n(17,"div",13)(18,"div",14),c(19),h(20,"date"),l(),n(21,"h2",15),c(22),l(),g(23,"p",16),n(24,"a",17),c(25," Lire l'article complet "),l()()()()()()(),n(26,"section",18)(27,"div",1)(28,"div",19)(29,"div",20),m(30,W,2,5,"button",21),l(),n(31,"div",22)(32,"select",23),y("change",function(K){return i.filtrerParStructure(K)}),m(33,X,2,2,"option",24),l()()()()(),n(34,"section",25)(35,"div",1)(36,"div",26),m(37,Z,20,16,"article",27),h(38,"paginate"),l(),m(39,ee,2,6,"ul",28),l()()),t&2&&(r(13),o("src",i.getLink("actualites",i.actualiteUne==null?null:i.actualiteUne.photo),_)("alt",i.actualiteUne==null?null:i.actualiteUne.title),r(6),u(" ",S(20,12,i.actualiteUne==null?null:i.actualiteUne.created_at,"d MMMM yyyy","fr")," "),r(3),u(" ",i.actualiteUne==null?null:i.actualiteUne.title," "),r(),o("innerHTML",i.actualiteUne==null?null:i.actualiteUne.sub_description,b),r(),o("routerLink",C(19,J,i.actualiteUne==null?null:i.actualiteUne.slug)),f("aria-label","Lire article complet: "+(i.actualiteUne==null?null:i.actualiteUne.title)),r(6),o("ngForOf",i.categories),r(3),o("ngForOf",i.structures),r(4),o("ngForOf",T(38,16,i.actualitesFiltrees,M(21,Q,i.pg.pageSize,i.pg.page,i.pg.total)))("ngForTrackBy",i.trackByActualiteId),r(2),o("ngIf",i.actualitesFiltrees.length>0))},dependencies:[O,P,I,U,j,z,N,$,R,G,q,D],styles:[".line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-3[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}"]})}}return a})();export{me as ActualitesComponent};
