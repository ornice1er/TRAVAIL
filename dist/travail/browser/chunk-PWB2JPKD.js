import{a as h,b as k,d as W,e as A,f as R}from"./chunk-EQAWZUYP.js";import"./chunk-BMA7WWEI.js";import{d as S,h as x}from"./chunk-2XEKLQTD.js";import"./chunk-WNXHPA22.js";import{b as C,c as M,g as E,h as _,i as N,j as L,k as P,q as T,s as I,t as j}from"./chunk-U7Q6GFHR.js";import"./chunk-G52SGF76.js";import"./chunk-S6PC5DNM.js";import{k as y,v}from"./chunk-QBXZOJLI.js";import{Jb as e,Kb as t,Lb as m,Ub as f,Za as a,db as d,hc as o,mb as w,mc as p,nc as b,oc as c,zb as u}from"./chunk-CRPGZ22B.js";import"./chunk-GAL4ENT6.js";var J=(()=>{class g{constructor(s,r,i,l){this.lsService=s,this.toastr=r,this.router=i,this.authService=l,this.email="",this.password="",this.showPassword=!1,this.rememberMe=!1,this.loading=!1}handleSubmit(){this.loading=!0,this.authService.login({email:this.email,password:this.password}).subscribe(s=>{this.lsService.set(h.tokenName,s.data?.access_token),this.authService.me().subscribe(r=>{this.loading=!1,this.lsService.set(h.userName,r.data?.user),this.router.navigate(["/admin/tableau-de-bord"]),this.toastr.success("Connexion r\xE9ussie","Connexion")},r=>{this.loading=!1,this.toastr.error(r.error?.message,"Connexion")})},s=>{})}toggleShowPassword(){this.showPassword=!this.showPassword}static{this.\u0275fac=function(r){return new(r||g)(d(W),d(k),d(S),d(A))}}static{this.\u0275cmp=w({type:g,selectors:[["app-login"]],decls:44,vars:7,consts:[[1,"min-h-screen","bg-gradient-to-br","from-benin-green/10","via-white","to-benin-blue/10","flex","items-center","justify-center","p-4","font-roboto"],[1,"absolute","inset-0","bg-cover","bg-center","opacity-10",2,"background-image","url('assets/cite.jpg')"],[1,"relative","w-full","max-w-md"],[1,"text-center","mb-8"],[1,"w-60","h-50","mx-auto","mb-4"],["src","assets/logo-mtfp.jpeg","alt","Logo Minist\xE8re du Travail et de la Fonction Publique",1,"w-full","h-full","object-contain"],[1,"text-lg","font-bold","text-gray-900","leading-tight","font-montserrat"],[1,"text-sm","text-benin-green","mt-2","font-medium"],[1,"bg-white","rounded-2xl","shadow-2xl","p-8","backdrop-blur-sm","border","border-white/20"],[1,"text-2xl","font-bold","text-gray-900","mb-2","font-montserrat"],[1,"text-gray-600","text-sm","font-roboto"],[1,"space-y-6",3,"ngSubmit"],["for","email",1,"block","text-sm","font-semibold","text-gray-700","mb-2","font-montserrat"],[1,"relative"],["id","email","type","email","name","email","placeholder","votre@email.gov.bj","required","",1,"w-full","px-4","py-3","bg-gray-50","border","border-gray-200","rounded-lg","focus:ring-2","focus:ring-benin-green","focus:border-transparent","transition-all","duration-200","text-sm","font-roboto",3,"ngModelChange","ngModel"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center"],[1,"ri-mail-line","text-gray-400"],["for","password",1,"block","text-sm","font-semibold","text-gray-700","mb-2","font-montserrat"],["id","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"w-full","px-4","py-3","bg-gray-50","border","border-gray-200","rounded-lg","focus:ring-2","focus:ring-benin-green","focus:border-transparent","transition-all","duration-200","text-sm","pr-12","font-roboto",3,"ngModelChange","type","ngModel"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","cursor-pointer",3,"click"],[1,"text-gray-400","hover:text-benin-green","transition-colors",3,"ngClass"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","cursor-pointer"],["type","checkbox","name","rememberMe",1,"w-4","h-4","text-benin-green","bg-gray-100","border-gray-300","rounded","focus:ring-benin-green","focus:ring-2",3,"ngModelChange","ngModel"],[1,"ml-2","text-sm","text-gray-600","font-roboto"],["type","button",1,"text-sm","text-benin-green","hover:text-benin-blue","font-medium","transition-colors","whitespace-nowrap","font-roboto"],["type","submit",1,"w-full","flex","items-center","justify-center","gap-2","bg-gradient-to-r","from-benin-green","to-benin-blue","hover:from-benin-green/90","hover:to-benin-blue/90","text-white","font-semibold","py-3","px-4","rounded-lg","transition-all","duration-200","transform","hover:scale-[1.02]","focus:ring-4","focus:ring-benin-green/20","whitespace-nowrap","font-montserrat",3,"disabled"],[3,"isVisible"]],template:function(r,i){r&1&&(e(0,"div",0),m(1,"div",1),e(2,"div",2)(3,"div",3)(4,"div",4),m(5,"img",5),t(),e(6,"h1",6),o(7,"MINIST\xC8RE DU TRAVAIL ET"),t(),e(8,"h2",6),o(9,"DE LA FONCTION PUBLIQUE"),t(),e(10,"p",7),o(11,"R\xC9PUBLIQUE DU B\xC9NIN"),t()(),e(12,"div",8)(13,"div",3)(14,"h3",9),o(15,"CONNEXION"),t(),e(16,"p",10),o(17,"Acc\xE9dez \xE0 votre espace d'administration"),t()(),e(18,"form",11),f("ngSubmit",function(){return i.handleSubmit()}),e(19,"div")(20,"label",12),o(21," Adresse email "),t(),e(22,"div",13)(23,"input",14),c("ngModelChange",function(n){return b(i.email,n)||(i.email=n),n}),t(),e(24,"div",15),m(25,"i",16),t()()(),e(26,"div")(27,"label",17),o(28," Mot de passe "),t(),e(29,"div",13)(30,"input",18),c("ngModelChange",function(n){return b(i.password,n)||(i.password=n),n}),t(),e(31,"button",19),f("click",function(){return i.toggleShowPassword()}),m(32,"i",20),t()()(),e(33,"div",21)(34,"label",22)(35,"input",23),c("ngModelChange",function(n){return b(i.rememberMe,n)||(i.rememberMe=n),n}),t(),e(36,"span",24),o(37,"Se souvenir de moi"),t()(),e(38,"button",25),o(39," Mot de passe oubli\xE9 ? "),t()(),e(40,"button",26)(41,"span"),o(42,"SE CONNECTER"),t(),m(43,"app-loading",27),t()()()()()),r&2&&(a(23),p("ngModel",i.email),a(7),u("type",i.showPassword?"text":"password"),p("ngModel",i.password),a(2),u("ngClass",i.showPassword?"ri-eye-off-line":"ri-eye-line"),a(3),p("ngModel",i.rememberMe),a(5),u("disabled",i.loading),a(3),u("isVisible",i.loading))},dependencies:[v,y,I,P,M,C,E,_,T,L,N,j,x,R],encapsulation:2})}}return g})();export{J as LoginComponent};
