import{a as q,b as D,c as H}from"./chunk-RJYJNXOM.js";import{a as V}from"./chunk-YKU7NWIP.js";import{a as B}from"./chunk-GT47F33O.js";import{d as O,g as j}from"./chunk-P3BJFV3S.js";import"./chunk-3LU5ELAR.js";import{n as $,o as R,r as N}from"./chunk-NNMKDKTO.js";import"./chunk-3GQN4SFB.js";import{a as z}from"./chunk-AFAOSGWK.js";import{l as M,m as P,t as T,v as U}from"./chunk-CJ4EMXTC.js";import{Ab as k,Fb as y,Gb as p,Ma as h,Pa as n,Qb as o,Sb as s,Va as _,_a as E,_b as w,aa as f,ac as L,ba as x,ca as S,da as A,db as m,gc as b,ic as I,jc as C,kb as g,lb as c,pb as F,ub as a,vb as l,wb as v}from"./chunk-ZNEMIWLE.js";import"./chunk-GAL4ENT6.js";var G=r=>["/actualites",r],K=(r,u,e)=>({id:"actuality_id",itemsPerPage:r,currentPage:u,totalItems:e});function Q(r,u){if(r&1){let e=k();a(0,"button",29),y("click",function(){let i=f(e).$implicit,d=p();return x(d.filtrerParCategorie(i.id))}),o(1),l()}if(r&2){let e=u.$implicit,t=p();F(t.categorieActive===e.id?"btn-primary":"btn-secondary"),g("aria-pressed",t.categorieActive===e.id)("aria-label","Filtrer par "+e.name),n(),s(" ",e.name," ")}}function W(r,u){if(r&1&&(a(0,"option",30),o(1),l()),r&2){let e=u.$implicit;c("value",e.id),n(),s(" ",e.name," ")}}function X(r,u){if(r&1&&(a(0,"span",44),o(1),l()),r&2){let e=u.$implicit;c("title","Tag: "+e),n(),s(" #",e," ")}}function Y(r,u){if(r&1&&(a(0,"article",31)(1,"div",32),v(2,"img",33),a(3,"div",11)(4,"span",34),o(5),l()()(),a(6,"div",35)(7,"div",14),o(8),b(9,"date"),l(),a(10,"h3",36),o(11),l(),a(12,"p",37),o(13),l(),a(14,"div",38)(15,"a",39),o(16," Lire la suite "),S(),a(17,"svg",40),v(18,"path",41),l()(),A(),a(19,"div",42),m(20,X,2,2,"span",43),l()()()()),r&2){let e,t=u.$implicit,i=p();n(2),c("src",i.getLink("actualites",t.photo),h)("alt",t.title),n(2),g("aria-label","Cat\xE9gorie: "+t.categorie),n(),s(" ",(e=t.categorie)!==null&&e!==void 0?e:"Actualit\xE9"," "),n(3),s(" ",C(9,10,t.created_at,"d MMMM yyyy","fr")," "),n(3),s(" ",t.title," "),n(2),s(" ",t.sub_description," "),n(2),c("routerLink",w(14,G,t.slug)),g("aria-label","Lire article: "+t.title),n(5),c("ngForOf",t==null||t.tags==null?null:t.tags.slice(0,2))}}function Z(r,u){if(r&1){let e=k();a(0,"ul",45)(1,"pagination-controls",46),y("pageChange",function(i){f(e);let d=p();return x(d.pageChanged(i))})("pageBoundsCorrection",function(i){f(e);let d=p();return x(d.pageChanged(i))}),l()()}if(r&2){let e=p();n(),c("maxSize",e.pg.total)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")}}var de=(()=>{class r{constructor(e,t){this.animationService=e,this.publicService=t,this.categorieActive=0,this.structureActive=0,this.categories=[],this.structures=[],this.actualites=[],this.actualitesFiltrees=[],this.pg={pageSize:9,page:1,total:0}}ngOnInit(){this.getAll()}getAll(){this.publicService.getActualites(this.pg.pageSize,this.pg.page).subscribe(e=>{this.categories=[{id:0,name:"Toutes"},...e.data?.categories],this.structures=[{id:0,name:"Toutes les structures"},...e.data?.structures],this.actualiteUne=e.data.actualiteUne,this.actualites=e.data.actualites.data,this.actualitesFiltrees=this.actualites,this.pg.total=e.data.actualites.total})}ngAfterViewInit(){setTimeout(()=>{this.animationService.initScrollAnimations()},100)}filtrerParCategorie(e){this.categorieActive=e,this.appliquerFiltres()}filtrerParStructure(e){this.structureActive=parseInt(e.target.value),this.appliquerFiltres()}appliquerFiltres(){let e=[...this.actualites];this.categorieActive!==0&&(e=e.filter(t=>t.category_id===this.categorieActive)),this.structureActive!==0&&this.structureActive!==1&&(e=e.filter(t=>t.media?.structure_id===this.structureActive)),this.actualitesFiltrees=e}trackByActualiteId(e,t){return t.id}getLink(e,t){return`${B.toFile("storage")}/${e}/${t}`}pageChanged(e){this.pg.page=e,this.getAll()}static{this.\u0275fac=function(t){return new(t||r)(_(z),_(V))}}static{this.\u0275cmp=E({type:r,selectors:[["app-actualites"]],decls:41,vars:25,consts:[[1,"bg-gradient-to-r","from-primary-800","to-primary-900","dark:from-primary-900","dark:to-primary-950","text-white","pt-32","pb-16"],[1,"container-custom"],[1,"text-center"],[1,"text-4xl","lg:text-5xl","font-bold","mb-6"],[1,"text-xl","text-primary-100","dark:text-primary-200","max-w-3xl","mx-auto"],[1,"section-padding","bg-white","dark:bg-gray-900"],[1,""],[1,"card","overflow-hidden"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-0"],[1,"relative","h-64","lg:h-auto","lg:max-h-86"],["loading","lazy",1,"w-full","object-cover",3,"src","alt"],[1,"absolute","top-4","left-4"],["aria-label","Article \xE0 la une",1,"bg-primary-800","dark:bg-primary-700","text-white","px-4","py-2","rounded-full","text-sm","font-medium"],[1,"p-8","lg:p-12","flex","flex-col","justify-center"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-2"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-4"],[1,"text-lg","text-gray-600","dark:text-gray-300","mb-6","text-content","line-clamp-4"],[1,"btn-primary","w-fit",3,"routerLink"],["aria-label","Filtres par cat\xE9gorie",1,"py-8","bg-gray-50","dark:bg-gray-800","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","flex-col","md:flex-row","items-center","justify-center","gap-6"],["role","group","aria-label","Filtrer les actualit\xE9s par cat\xE9gorie",1,"flex","flex-wrap","justify-center","gap-4"],["class","px-6 py-2 rounded-full text-sm font-medium transition-all",3,"class","click",4,"ngFor","ngForOf"],[1,"relative","w-full","md:w-auto"],["aria-label","Filtrer par structure",1,"form-select","w-full","md:w-64","dark:bg-gray-700","dark:border-gray-600","dark:text-white",3,"change"],[3,"value",4,"ngFor","ngForOf"],["aria-label","Liste des actualit\xE9s",1,"section-padding","bg-gray-50","dark:bg-gray-800"],["role","list",1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-8"],["class","card overflow-hidden  hover:shadow-lg transition-all duration-300","role","listitem",4,"ngFor","ngForOf","ngForTrackBy"],["class","flex justify-center mt-12 list-none space-x-2",4,"ngIf"],[1,"px-6","py-2","rounded-full","text-sm","font-medium","transition-all",3,"click"],[3,"value"],["role","listitem",1,"card","overflow-hidden","hover:shadow-lg","transition-all","duration-300"],[1,"relative","h-48","overflow-hidden"],["loading","lazy",1,"w-full","h-full","object-cover","hover:scale-105","transition-transform","duration-300",3,"src","alt"],[1,"bg-primary-800","dark:bg-primary-700","text-white","px-3","py-1","rounded-full","text-sm","font-medium"],[1,"p-6"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white","mb-3","line-clamp-2"],[1,"text-gray-600","dark:text-gray-300","mb-4","line-clamp-3","text-content"],[1,"flex","items-center","justify-between"],[1,"text-primary-800","dark:text-primary-400","hover:text-primary-900","dark:hover:text-primary-300","font-medium","inline-flex","items-center",3,"routerLink"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-4","h-4","ml-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],["aria-label","Tags de l'article",1,"flex","space-x-1"],["class","bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded text-xs",3,"title",4,"ngFor","ngForOf"],[1,"bg-gray-100","dark:bg-gray-700","text-gray-600","dark:text-gray-300","px-2","py-1","rounded","text-xs",3,"title"],[1,"flex","justify-center","mt-12","list-none","space-x-2"],["id","actuality_id","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","Page active",3,"pageChange","pageBoundsCorrection","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4,"Actualit\xE9s"),l(),a(5,"p",4),o(6," Restez inform\xE9 des derni\xE8res nouvelles et initiatives du Minist\xE8re du Travail. "),l()()()(),a(7,"section",5)(8,"div",1)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),v(13,"img",10),a(14,"div",11)(15,"span",12),o(16," \xC0 la une "),l()()(),a(17,"div",13)(18,"div",14),o(19),b(20,"date"),l(),a(21,"h2",15),o(22),l(),a(23,"p",16),o(24),l(),a(25,"a",17),o(26," Lire l'article complet "),l()()()()()()(),a(27,"section",18)(28,"div",1)(29,"div",19)(30,"div",20),m(31,Q,2,5,"button",21),l(),a(32,"div",22)(33,"select",23),y("change",function(J){return i.filtrerParStructure(J)}),m(34,W,2,2,"option",24),l()()()()(),a(35,"section",25)(36,"div",1)(37,"div",26),m(38,Y,21,16,"article",27),b(39,"paginate"),l(),m(40,Z,2,6,"ul",28),l()()),t&2&&(n(13),c("src",i.getLink("actualites",i.actualiteUne==null?null:i.actualiteUne.photo),h)("alt",i.actualiteUne==null?null:i.actualiteUne.title),n(6),s(" ",C(20,12,i.actualiteUne==null?null:i.actualiteUne.created_at,"d MMMM yyyy","fr")," "),n(3),s(" ",i.actualiteUne==null?null:i.actualiteUne.title," "),n(2),s(" ",i.actualiteUne==null?null:i.actualiteUne.sub_description," "),n(),c("routerLink",w(19,G,i.actualiteUne==null?null:i.actualiteUne.slug)),g("aria-label","Lire article complet: "+(i.actualiteUne==null?null:i.actualiteUne.title)),n(6),c("ngForOf",i.categories),n(3),c("ngForOf",i.structures),n(4),c("ngForOf",I(39,16,i.actualitesFiltrees,L(21,K,i.pg.pageSize,i.pg.page,i.pg.total)))("ngForTrackBy",i.trackByActualiteId),n(2),c("ngIf",i.actualitesFiltrees.length>0))},dependencies:[U,M,P,T,j,O,N,$,R,H,q,D],styles:[".line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-3[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}"]})}}return r})();export{de as ActualitesComponent};
